<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //умова валідності прийняття вибору
        function getValue(message) {
            while (true) {
                let value = prompt(message).toLocaleLowerCase().trim();
                let isValid = ["к", "н", "п"].includes(value);
                if (isValid) return (value);
            }
        }

        //аксепшин введеного значення
        function startGame() {
            let playerChoice = getValue("Зробіть вибір ввівши літеру: 'к'(якщо камінь), 'н'(якщо ножиці), 'п'(якщо папір)");
            if (playerChoice === 'к') {
                alert("Ви обрали КАМІНЬ");
            }
            else if (playerChoice === 'н') {
                alert("Ви обрали НОЖИЦІ");
            }
            else if (playerChoice === 'п') {
                alert("Ви обрали ПАПІР");
            }

            //генерація вибору комп'ютера та умовні конструкції  
            const choice = ["камінь", "ножиці", "папір"];
            let randomChoice = choice[Math.floor(Math.random() * 3)];
            alert(`Комп'ютер обрав ${randomChoice}`);
            //камінь
            if (playerChoice == "к" && randomChoice == "ножиці") {
                alert("Вітаю! Ви виграли!Ваш камінь б'є ножиці!");
                return "player";
            }
            else if (playerChoice == "к" && randomChoice == "папір") {
                alert("Нажаль, ви програли...Папір криє камінь");
                return "computer";
            }
            //ножиці
            else if (playerChoice == "н" && randomChoice == "камінь") {
                alert("Нажаль, ви програли...Камінь б'є ножиці");
                return "computer";
            }

            else if (playerChoice == "н" && randomChoice == "папір") {
                alert("Вітаю! Ви виграли!Ваші ножиці ріжуть папір!");
                return "player";
            }

            //папір
            else if (playerChoice == "п" && randomChoice == "камінь") {
                alert("Вітаю! Ви виграли!Ваш папір криє камінь!");
                return "player";
            }
            else if (playerChoice == "п" && randomChoice == "ножиці") {
                alert("Нажаль, ви програли...Ножиці ріжуть папір");
                return "computer";
            }
            //нічия
            else {
                alert("Нічия!");
                return "drawScore";
            }
        }

        
        //створення лічильника раундів
        let playerWins = computerWins = 0;
        for (let i = 1; i <= 3; i++) {
            alert(`Раунд ${i}`);
            let result = startGame();
            if (result == "player") {
                playerWins++;
            }
            else if (result == "computer") {
                computerWins++;
            }
        }

        //виведення резудьтату гри
        if (playerWins > computerWins) {
            alert(`Вітаю! Ви перемогли із рахунком ${playerWins}:${computerWins}`);
        }
        else if (playerWins < computerWins) {
            alert(`Нажаль, Ви програли із рахунком ${playerWins}:${computerWins}`);
        }
        else {
            alert(`Нічия! Рахунок гри ${playerWins}:${computerWins}`);
        }

    </script>
</body>

</html>