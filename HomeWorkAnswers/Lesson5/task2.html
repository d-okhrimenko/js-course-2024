<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Figures</title>
</head>

<body>
  <script src="../../ClassWork/common/my-library.js"></script>
  <script>

    class Circle {
      constructor({ radius }) {
        this.radius = radius;
      }

      static create() {
        const radius = getNumericValue('Введіть радіус кола');
        return new Circle({ radius });
      }

      get type() {
        return 'коло';
      }

      getArea() {
        return Math.round(Math.PI * this.radius ** 2 * 100) / 100;
      }

      getPerimeter() {
        return Math.round(2 * Math.PI * this.radius * 100) / 100;
      }
    }

    class Rect {
      constructor({ a, b }) {
        this.a = a;
        this.b = b;
      }

      static create() {
        const a = getNumericValue('Введіть довжину прямокутника');
        const b = getNumericValue('Введіть ширину прямокутника');
        return new Rect({ a, b });
      }

      get type() {
        return 'прямокутник';
      }

      getArea() {
        return this.a * this.b;
      }

      getPerimeter() {
        return 2 * (this.a + this.b);
      }
    }

    class Triangle {
      constructor({ a, b, c }) {
        this.a = a;
        this.b = b;
        this.c = c;
      }

      static create() {
        const a = getNumericValue('Введіть першу сторону трикутника');
        const b = getNumericValue('Введіть другу сторону трикутника');
        const c = getNumericValue('Введіть третью сторону трикутника');
        return new Triangle({ a, b, c });
      }

      get type() {
        return 'трикутник';
      }

      getArea() {
        const p = (this.a + this.b + this.c) / 2;
        return Math.round(Math.sqrt(p * (p - this.a) * (p - this.b) * (p - this.c)) * 100) / 100;
      }

      getPerimeter() {
        return this.a + this.b + this.c;
      }
    }
    const OPTIONS = [Circle, Rect, Triangle];

    const userChoice = prompt('Оберіть фігуру: 0 - коло, 1 - прямокутник чи 2 - трикутник', '');

    if ([0, 1, 2].includes(Number(userChoice)) || userAnswer !== '') {
      const figure = OPTIONS[userChoice].create();

      alert(`Ви обрали ${figure.type}. Периметр = ${figure.getPerimeter()}. Площа = ${figure.getArea()}`);
    } else {
      alert('Ви ввели некоректне значення');
    };

  </script>
</body>

</html>